<div class="article-inner">
 <header>
  <div class="entry-meta beforetitle-meta">
  </div>
  <h1 class="entry-title singular-title" itemprop="headline">
   6.5 â€” The comma operator
  </h1>
  <div class="entry-meta aftertitle-meta">
  </div>
 </header>
 <div class="entry-content" itemprop="articleBody">
  <div class="cpp-table-wrapper">
   <p>
    <p>
     <table class="cpp-table">
      <tbody>
       <tr>
        <th>
         Operator
         <th>
          Symbol
          <th>
           Form
           <th>
            Operation
            <tr>
             <td>
              Comma
              <td>
               ,
               <td>
                x, y
                <td>
                 Evaluate x then y, returns value of y
                </td>
               </td>
              </td>
             </td>
            </tr>
           </th>
          </th>
         </th>
        </th>
       </tr>
      </tbody>
     </table>
    </p>
   </p>
  </div>
  <p>
   The
   <strong>
    comma operator (,)
   </strong>
   allows you to evaluate multiple expressions wherever a single expression is allowed. The comma operator evaluates the left operand, then the right operand, and then returns the result of the right operand.
   <p>
    For example:
    <pre class="language-cpp line-numbers"><code class="language-cpp match-braces">#include &lt;iostream&gt;

int main()
{
    int x{ 1 };
    int y{ 2 };

    std::cout &lt;&lt; (++x, ++y) &lt;&lt; '\n'; // increment x and y, evaluates to the right operand

    return 0;
}</code></pre>
    <p>
     First the left operand of the comma operator is evaluated, which increments
     <em>
      x
     </em>
     from
     <em>
      1
     </em>
     to
     <em>
      2
     </em>
     . Next, the right operand is evaluated, which increments
     <em>
      y
     </em>
     from
     <em>
      2
     </em>
     to
     <em>
      3
     </em>
     . The comma operator returns the result of the right operand (
     <em>
      3
     </em>
     ), which is subsequently printed to the console.
     <p>
      Note that comma has the lowest precedence of all the operators, even lower than assignment. Because of this, the following two lines of code do different things:
      <pre class="language-cpp line-numbers"><code class="language-cpp match-braces">z = (a, b); // evaluate (a, b) first to get result of b, then assign that value to variable z.
z = a, b; // evaluates as "(z = a), b", so z gets assigned the value of a, and b is evaluated and discarded.</code></pre>
      <p>
       This makes the comma operator somewhat dangerous to use.
       <p>
        In almost every case, a statement written using the comma operator would be better written as separate statements. For example, the above code could be written as:
        <pre class="language-cpp line-numbers"><code class="language-cpp match-braces">#include &lt;iostream&gt;

int main()
{
    int x{ 1 };
    int y{ 2 };

    ++x;
    std::cout &lt;&lt; ++y &lt;&lt; '\n';

    return 0;
}</code></pre>
        <p>
         Most programmers do not use the comma operator at all, with the single exception of inside
         <em>
          for loops
         </em>
         , where its use is fairly common. We discuss for loops in future lesson
         <a href="https://www.learncpp.com/cpp-tutorial/for-statements/">
          8.10 -- For statements
         </a>
         .
         <div class="cpp-note cpp-lightgreenbackground">
          <p class="cpp-note-title cpp-bottomline">
           Best practice
           <p>
            Avoid using the comma operator, except within
            <em>
             for loops
            </em>
            .
           </p>
          </p>
         </div>
         <p class="cpp-section">
          Comma as a separator
          <p>
           In C++, the comma symbol is often used as a separator, and these uses do not invoke the comma operator. Some examples of separator commas:
           <pre class="language-cpp line-numbers"><code class="language-cpp match-braces">void foo(int x, int y) // Separator comma used to separate parameters in function definition
{
    add(x, y); // Separator comma used to separate arguments in function call
    constexpr int z{ 3 }, w{ 5 }; // Separator comma used to separate multiple variables being defined on the same line (don't do this)
}</code></pre>
           <p>
            There is no need to avoid separator commas (except when declaring multiple variables, which you should not do).
           </p>
          </p>
         </p>
        </p>
       </p>
      </p>
     </p>
    </p>
   </p>
  </p>
 </div>
</div>
